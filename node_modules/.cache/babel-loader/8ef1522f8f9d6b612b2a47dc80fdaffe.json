{"ast":null,"code":"var _jsxFileName = \"/Users/brockboutwell/Documents/Thinkful_Projects/Laura-Brock_reactError/src/components/Note.js\";\nimport React from \"react\";\nimport Header from \"./Header\";\nimport { Link } from \"react-router-dom\";\nimport Context from \"./Context\";\nexport default class Note extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleDeleteButton = e => {\n      const baseUrl = \"http://localhost:9090\";\n      console.log(this.props);\n      e.preventDefault();\n      const noteId = this.props.match.params.noteId;\n      console.log(noteId);\n      fetch(\"\".concat(baseUrl, \"/notes/\").concat(noteId), {\n        method: \"DELETE\",\n        headers: {\n          \"content-type\": \"application/json\"\n        }\n      }).then(response => {\n        if (!response.ok) {\n          return response.json().then(e => Promise.reject(e));\n        }\n\n        return response.json();\n      }).then(() => {\n        this.props.history.push('/');\n        this.context.deleteNote(noteId);\n      }).catch(error => {\n        console.log({\n          error\n        });\n      });\n    };\n  }\n\n  render() {\n    const note = this.context.notes.find(n => n.id === this.props.match.params.noteId);\n    const selectedFolder = this.context.folders.find(folder => folder.id === note.folderId);\n    return React.createElement(\"main\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, note.name), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, note.content), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, new Date(note.modified).toDateString()), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, selectedFolder.name), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Go Back\")), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.handleDeleteButton,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Delete\"));\n  }\n\n}\nNote.contextType = Context;","map":{"version":3,"sources":["/Users/brockboutwell/Documents/Thinkful_Projects/Laura-Brock_reactError/src/components/Note.js"],"names":["React","Header","Link","Context","Note","Component","handleDeleteButton","e","baseUrl","console","log","props","preventDefault","noteId","match","params","fetch","method","headers","then","response","ok","json","Promise","reject","history","push","context","deleteNote","catch","error","render","note","notes","find","n","id","selectedFolder","folders","folder","folderId","name","content","Date","modified","toDateString","contextType"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEA,eAAe,MAAMC,IAAN,SAAmBJ,KAAK,CAACK,SAAzB,CAAmC;AAAA;AAAA;;AAAA,SAGhDC,kBAHgD,GAG3BC,CAAC,IAAI;AACxB,YAAMC,OAAO,GAAG,uBAAhB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAjB;AACAJ,MAAAA,CAAC,CAACK,cAAF;AACA,YAAMC,MAAM,GAAG,KAAKF,KAAL,CAAWG,KAAX,CAAiBC,MAAjB,CAAwBF,MAAvC;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,MAAZ;AAEAG,MAAAA,KAAK,WAAIR,OAAJ,oBAAqBK,MAArB,GAA+B;AAClCI,QAAAA,MAAM,EAAE,QAD0B;AAElCC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT;AAFyB,OAA/B,CAAL,CAMCC,IAND,CAMMC,QAAQ,IAAI;AAChB,YAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AAChB,iBAAOD,QAAQ,CAACE,IAAT,GAAgBH,IAAhB,CAAqBZ,CAAC,IAAIgB,OAAO,CAACC,MAAR,CAAejB,CAAf,CAA1B,CAAP;AACD;;AACD,eAAOa,QAAQ,CAACE,IAAT,EAAP;AACD,OAXD,EAYCH,IAZD,CAYM,MAAM;AACV,aAAKR,KAAL,CAAWc,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACA,aAAKC,OAAL,CAAaC,UAAb,CAAwBf,MAAxB;AAED,OAhBD,EAiBCgB,KAjBD,CAiBOC,KAAK,IAAI;AACdrB,QAAAA,OAAO,CAACC,GAAR,CAAY;AAACoB,UAAAA;AAAD,SAAZ;AACD,OAnBD;AAoBD,KA9B+C;AAAA;;AAgChDC,EAAAA,MAAM,GAAG;AACP,UAAMC,IAAI,GAAG,KAAKL,OAAL,CAAaM,KAAb,CAAmBC,IAAnB,CACXC,CAAC,IAAIA,CAAC,CAACC,EAAF,KAAS,KAAKzB,KAAL,CAAWG,KAAX,CAAiBC,MAAjB,CAAwBF,MAD3B,CAAb;AAGA,UAAMwB,cAAc,GAAG,KAAKV,OAAL,CAAaW,OAAb,CAAqBJ,IAArB,CACrBK,MAAM,IAAIA,MAAM,CAACH,EAAP,KAAcJ,IAAI,CAACQ,QADR,CAAvB;AAGA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIR,IAAI,CAACS,IAAT,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIT,IAAI,CAACU,OAAT,CAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI,IAAIC,IAAJ,CAASX,IAAI,CAACY,QAAd,EAAwBC,YAAxB,EAAJ,CAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIR,cAAc,CAACI,IAAnB,CALF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,CANF,EASE;AACA,MAAA,IAAI,EAAC,QADL;AAEA,MAAA,OAAO,EAAE,KAAKnC,kBAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBATF,CADF;AAeD;;AAtD+C;AAA7BF,I,CACZ0C,W,GAAc3C,O","sourcesContent":["import React from \"react\";\nimport Header from \"./Header\";\nimport { Link } from \"react-router-dom\";\nimport Context from \"./Context\";\n\nexport default class Note extends React.Component {\n  static contextType = Context;\n\n  handleDeleteButton = e => {\n    const baseUrl = \"http://localhost:9090\";\n    console.log(this.props)\n    e.preventDefault();\n    const noteId = this.props.match.params.noteId;\n    console.log(noteId)\n\n    fetch(`${baseUrl}/notes/${noteId}`, {\n      method: \"DELETE\",\n      headers: {\n        \"content-type\": \"application/json\"\n      }\n    })\n    .then(response => {\n      if (!response.ok) {\n        return response.json().then(e => Promise.reject(e))\n      }\n      return response.json();\n    })\n    .then(() => {\n      this.props.history.push('/')\n      this.context.deleteNote(noteId)\n      \n    })\n    .catch(error => {\n      console.log({error})\n    })\n  };\n\n  render() {\n    const note = this.context.notes.find(\n      n => n.id === this.props.match.params.noteId\n    );\n    const selectedFolder = this.context.folders.find(\n      folder => folder.id === note.folderId\n    );\n    return (\n      <main>\n        <Header />\n        <p>{note.name}</p>\n        <p>{note.content}</p>\n        <p>{new Date(note.modified).toDateString()}</p>\n        <p>{selectedFolder.name}</p>\n        <button>\n          <Link to=\"/\">Go Back</Link>\n        </button>\n        <button \n        type=\"button\" \n        onClick={this.handleDeleteButton}>Delete</button>\n      </main>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}